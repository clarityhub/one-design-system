(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./packages/unity-web/src/components/Menu/Menu.js":function(t,e,n){"use strict";var o=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),r=n("./node_modules/react/index.js"),i=n.n(r),c=n("./node_modules/@emotion/core/dist/core.browser.esm.js"),u=n("./node_modules/deep-equal/index.js"),a=n.n(u);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(o=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(a){r=!0,i=a}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var f={name:"ze1pyk",styles:"@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}@keyframes fadeOut{0%{opacity:1;}100%{opacity:0;}}"},p=function(t){var e=t.show,n=t.children,o=s(Object(r.useState)(e),2),u=o[0],a=o[1];Object(r.useEffect)((function(){e&&a(!0)}),[e]);return i.a.createElement(r.Fragment,null,i.a.createElement(c.Global,{styles:f}),u&&i.a.createElement("div",{style:{animation:"".concat(e?"fadeIn":"fadeOut"," 0.3s"),animationTimingFunction:"ease-in"},onAnimationEnd:function(){e||a(!1)}},n))},d=p;p.__docgenInfo={description:"",methods:[],displayName:"Fade"};var y=n("./packages/unity-web/src/utilities/position.js"),b=n("./packages/unity-core/lib/typography.js"),m=n("./packages/unity-core/lib/borders.js"),h=n.n(m),g=n("./packages/unity-core/lib/colors.js"),O=n.n(g);function v(t){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){R(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=C(t);if(e){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(t,e){return!e||"object"!==v(e)&&"function"!==typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=function(){return Object(c.css)("background-color:",O.a.white.default,";border-radius:",h.a.borderRadius.rem,"rem;box-shadow:",O.a.shadow.default,";position:absolute;z-index:99999999;margin-top:1rem;min-width:13rem;padding:0.4rem 0;",b.variants.button.string," font-size:1rem;ul{list-style:none;margin:0;padding:0;}li{margin:0;padding:0;}")},A=Object(o.default)("div",{target:"e1yoe36r0"})("position:absolute;width:0;height:0;border-left:0.5rem solid transparent;border-right:0.5rem solid transparent;border-bottom:0.5rem solid ",O.a.white.default,";top:-0.5rem;transform:translateX(-50%);"),T=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(i,t);var e,n,o,r=S(i);function i(){var t;P(this,i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return R(x(t=r.call.apply(r,[this].concat(n))),"state",{position:{},arrow:{}}),R(x(t),"getPosition",(function(t,e){var n=w({},t.position);return e&&(n.left=n.left-Object(y.b)(e).width/2+Object(y.b)(t.target).width/2),Object(y.a)(n,e)})),R(x(t),"getArrowPosition",(function(t,e){if(t.target){var n=Object(y.b)(t.target);return{top:0,left:n.left-e.left+n.width/2}}return{top:0,left:0}})),t}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this.getPosition(this.props,this.popover);this.setState({position:t,arrow:this.getArrowPosition(this.props,t)})}},{key:"componentDidUpdate",value:function(t){if(!a()(t.position,this.props.position)||t.target!==this.props.target){var e=this.getPosition(this.props,this.popover);this.setState({position:e,arrow:this.getArrowPosition(this.props,e)})}}},{key:"render",value:function(){var t=this,e=this.state,n=e.position,o=e.arrow,r=this.props,i=r.items,u=r.content,a=r.innerRef;return Object(c.jsx)("div",{ref:function(e){t.popover=e,a(e)},css:D,style:{top:"".concat(n.bottom||0,"px"),left:"".concat(n.left||0,"px")}},Object(c.jsx)(A,{style:{left:"".concat(o.left||0,"px")}}),u||Object(c.jsx)("ul",null,i.map((function(t,e){return Object(c.jsx)("li",{key:e},t)}))))}}])&&k(e.prototype,n),o&&k(e,o),i}(r.Component),U=i.a.forwardRef((function(t,e){return Object(c.jsx)(T,Object.assign({innerRef:e},t))})),I=n("./node_modules/react-dom/index.js"),M=n.n(I);function q(t){return(q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=z(t);if(e){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return W(this,n)}}function W(t,e){return!e||"object"!==q(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=0,V=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(c,t);var e,n,o,r=L(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),e=r.call(this,t),"undefined"!==typeof window&&(e.el=document.createElement("div"),e.el.id="menu-portal-".concat(N++),document.body.appendChild(e.el)),e}return e=c,(n=[{key:"componentWillUnmount",value:function(){this.el&&document.body.removeChild(this.el)}},{key:"render",value:function(){return this.props.noPortal?i.a.createElement("div",null,this.props.children):this.el?M.a.createPortal(this.props.children,this.el):null}}])&&K(e.prototype,n),o&&K(e,o),c}(r.Component);function B(t){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Z(t);if(e){var r=Z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $(this,n)}}function $(t,e){return!e||"object"!==B(e)&&"function"!==typeof e?Q(t):e}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}V.__docgenInfo={description:"",methods:[],displayName:"MenuPortal"},n.d(e,"a",(function(){return ot}));var et=Object(o.default)("div",{target:"e1vovinh0"})({name:"79elbk",styles:"position:relative;"}),nt=Object(o.default)("div",{target:"e1vovinh1"})("display:",(function(t){return t.inline?"inline-block":"block"}),";position:relative;"),ot=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(i,t);var e,n,o,r=Y(i);function i(){var t;X(this,i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return tt(Q(t=r.call.apply(r,[this].concat(n))),"state",{noPortal:!1,open:!1}),tt(Q(t),"MenuPopover",U),tt(Q(t),"onClickOutside",(function(e){if(t.menu&&t.doneOpening&&t.state.open){var n=e.target;t.menu!==n&&!t.menu.contains(n)&&document.body.contains(n)&&t.close()}})),tt(Q(t),"onKeyUp",(function(e){t.state.open&&"Escape"===e.key&&t.close()})),tt(Q(t),"open",(function(){t.doneOpening=!1;var e={top:0,left:0};t.target&&(e=Object(y.b)(t.target)),t.setState((function(){return{open:!0,position:e}}),(function(){setTimeout((function(){t.doneOpening=!0}),100)}))})),tt(Q(t),"close",(function(){t.setState({open:!1},(function(){t.props.onClose&&t.props.onClose()}))})),tt(Q(t),"toggle",(function(){t.state.open?t.close():t.open()})),tt(Q(t),"renderChildren",(function(e){var n=e.open,o=e.close,r=e.toggle;return(0,t.props.children)({open:n,close:o,toggle:r})})),t}return e=i,(n=[{key:"componentDidMount",value:function(){this._onClickOutside=this.onClickOutside.bind(this),this._onKeyUp=this.onKeyUp.bind(this),document.addEventListener("click",this._onClickOutside),document.addEventListener("keyup",this._onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._onClickOutside),document.removeEventListener("keyup",this._onKeyUp)}},{key:"componentDidUpdate",value:function(t,e){if(this.state.open&&this.target){var n=Object(y.b)(this.target);a()(n,e.position)||this.setState({position:n})}}},{key:"render",value:function(){var t=this,e=this.props,n=(e.children,e.content),o=e.inline,r=e.items,i=e.noPortal,u=J(e,["children","content","inline","items","noPortal"]),a=this.state,s=a.open,l=a.position,f=this.MenuPopover;return Object(c.jsx)(et,null,Object(c.jsx)(V,{noPortal:i},this.fade?Object(c.jsx)(d,{show:s},Object(c.jsx)(f,Object.assign({ref:function(e){return t.menu=e},content:n,items:r,position:l,target:this.target},u))):s&&Object(c.jsx)(f,Object.assign({ref:function(e){return t.menu=e},content:n,items:r,position:l,target:this.target},u))),Object(c.jsx)(nt,{ref:function(e){return t.target=e},inline:o},this.renderChildren({open:this.open,close:this.close,toggle:this.toggle})))}}])&&G(e.prototype,n),o&&G(e,o),i}(r.Component);ot.__docgenInfo={description:"When you click on the {children} wrapper,\na menu will appear below the {children}'s position.\n\nThe menu's position will remain within the window.\n\nThe menu will close when you click outside of the menu",methods:[{name:"onClickOutside",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onKeyUp",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"open",docblock:null,modifiers:[],params:[],returns:null},{name:"close",docblock:null,modifiers:[],params:[],returns:null},{name:"toggle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderChildren",docblock:null,modifiers:[],params:[{name:"{ open, close, toggle }",type:null}],returns:null}],displayName:"Menu",props:{children:{type:{name:"func"},required:!0,description:""},content:{type:{name:"node"},required:!1,description:""},inline:{type:{name:"bool"},required:!1,description:""},items:{type:{name:"arrayOf",value:{name:"node"}},required:!1,description:""},noPortal:{type:{name:"bool"},required:!1,description:""},onClose:{type:{name:"func"},required:!1,description:""}}}},"./packages/unity-web/src/utilities/position.js":function(t,e,n){"use strict";function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var i=function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,r=0,i=0;try{var c=document.defaultView.getComputedStyle(t,"");r=parseFloat(c.getPropertyValue("margin-top")),i=parseFloat(c.getPropertyValue("margin-bottom"))}catch(u){}return{top:e.top+o,left:e.left+n,height:e.height,outerHeight:r+i+e.height,width:e.width,bottom:e.top+o+e.height,right:e.left+n+e.width}},c=function(t,e){var n=window.innerWidth,i=e.getBoundingClientRect(),c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return t.left<0&&(c.left=0),t.left+i.width>n&&(c.left=t.right-i.width),c}}}]);
//# sourceMappingURL=packages-unity-web-src-components-menu-menu~packages-unity-web-src-components-navbar-navbar~packages~96038ae4.69213133ffaa38495a03.js.map